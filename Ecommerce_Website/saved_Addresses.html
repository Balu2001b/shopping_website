<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saved Addresses </title>

    <link rel="icon" href="./fashion_logo1.png" type="">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" 
    integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" 
    crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="style.css">
   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <style>
        :root {
    --color-primary: #0073ff;
    --color-white: #e9e9e9;
    --color-black: #141d28;
    --color-black-1: #212b38;
    }
   

        body{

            background-color: #DCDCDC;
        }

        .ab_icon{

height: 50px;
width: 50px;
border-radius: 50%;
position: absolute;
left: 5px;
top:20px;
cursor: pointer;


}
.logo {
color: white;
font-size: 18px;
margin-top: 20px;

}
.logo .sp{

    font-size: 12px;
    margin-left: 190px;
}


.menu-bar {
background-color: black;
position: fixed;
top: 0;
height: 80px;
width: 100%;
display: flex;
justify-content: space-between;
align-items: center;
padding: 0 5%;

}

.menu-bar ul {
list-style: none;
display: flex;
}

.menu-bar ul li {
/* width: 120px; */
padding: 10px 15px;
letter-spacing: 1px;
/* text-align: center; */

position: relative;
}

.menu-bar ul li a {
font-size: 12px;
color: white;
text-decoration: none;

transition: all 0.3s;
}

.menu-bar ul li a:hover {
color: var(--color-primary);
}



/*--------------------------------- Dropdown menu Styling Section Here------------------------------------- */


.dropdown-menu {
display: none;
}

.menu-bar ul li:hover .dropdown-menu {
display: block;
position: absolute;
left: 10px;
top: 100%;
background-color: black;
border-radius: 10px;

}
.menu-bar ul li:hover .dropdown-menu1 {
    display: block;
    position: absolute;
    left: 120px;
    top: 0px;
    background-color: black;
    border-radius: 10px;
    
    }
    
.menu-bar ul li:hover .dropdown-menu ul {
display: block;
margin: 10px;
}

.menu-bar ul li:hover .dropdown-menu ul li {
width: 200px;
padding: 6px;
}

.dropdown-menu-1 {
display: none;
}

.dropdown-menu ul li:hover .dropdown-menu-1 {
display: block;
position: absolute;
left: 180px;
top: 0;
background-color: black;
}
      .saved_addresses h3{

        position: relative;
        top: 90px;
        left: 550px;
        margin-bottom: 30px;
      }
      .saved-address{
        position: relative;
        top: 100px;
        left: 300px;
        width: 700px;
        height: 400px;
        border: 1px solid rgb(201, 201, 201);
        box-shadow: 20px 20px 20px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        padding: 20px;
        background-color: white;
        overflow-y: auto;
        scrollbar-width: thin;
        scrollbar-color: rgb(218, 211, 211);
      }

      /* Chrome, Edge, Safari */
      .saved-address::-webkit-scrollbar {
        width: 6px;
    }
    
    .saved-address::-webkit-scrollbar-thumb {
        background-color: rgb(219, 219, 219); /* Scrollbar color while scrolling */
        border-radius: 3px;
        
    }
    
    .saved-address::-webkit-scrollbar-track {
        background: transparent;
    }


      .add_fullName{

margin-top: 10px;
margin-left: 1px;
font-size: 15px;
color: black;
font-weight: 600;

}

.add_street,.add_area{

    position: relative;
    top: 3px;
    left: 33px;
    font-size: 13px;
    color: rgb(124, 124, 124);
    font-weight: 500;

}

.add_city,.add_district,.add_pincode{

position: relative;
top: 3px;
left: 33px;
font-size: 13px;
color: rgb(124, 124, 124);
font-weight: 500;

}

.add_mobile{

position: relative;
top: 3px;
left: 33px;
font-size: 13px;
color: rgb(124, 124, 124);
font-weight: 500;


}

.edit-button{
        background: none;
        border: none;
        margin-left: 20px;
        color: black;
        cursor: pointer;
       
}

.delete-button{
        
        
       background: none;
        cursor: pointer;
        border: none;
        color: red;
        margin-left: 20px;
       

       
}



/* Modal Container */
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0; top: 0;
  width: 100%; height: 100%;
  overflow: auto;
  background-color: rgba(0, 0, 0, 0.4);
}

/* Modal Content Box */
.modal-content {
  background-color: #fff;
  margin: 10% auto;
  padding: 30px 20px 20px 20px;
  border-radius: 10px;
  width: 90%;
  max-width: 500px;
  position: fixed;
  top: -80px;
  left: 400px;
}

.modal-content1 {
  background-color: #fff;
  margin: 10% auto;
  padding: 30px 20px 20px 20px;
  border-radius: 10px;
  width: 90%;
  max-width: 500px;
  position: fixed;
  top: 30px;
  left: 400px;
}


/* Close Button */
.close-button {
  position: absolute;
  right: 20px;
  top: 10px;
  color: red;
  font-size: 24px;
  cursor: pointer;
}

.modal-content input {
  width: 100%;
  padding: 6px;
  margin: 6px 0 12px 0;
  border: 1px solid #ccc;
  border-radius: 5px;
}

.modal-content label{

    color: #0073ff;
    font-size: 15px;
    font-weight: 300;
}

.save-changes{

    padding: 10px 150px 10px 150px;
    border-radius: 5px;
    border: none;
    background-color: #0073ff;
    color: white;
    cursor: pointer;
    margin-top: 10px;
    margin-left: 30px;
}

.save-changes:hover{

    background-color: #173861;
}

body {
      margin: 0;
      transition: transform 0.6s ease, opacity 0.6s ease;
      transform: scale(1);
      opacity: 1;   
      overflow: hidden;
      height: 100vh;

      

    
      
    }

    body.zoom-out {
      transform: scale(0.8);
      opacity: 0;
      
    }

    .toast-saveChanges {
    visibility: hidden;
    min-width: 250px;
    margin-left: -125px;
    background-color: 	#009E60;
    color: #fff;
    text-align: center;
    border-radius: 5px;
    padding: 16px;
    position: fixed;
    z-index: 1;
    left: 50%;
    top: 30px;
    font-size: 17px;
   
}

/* Show the toast message */
.toast-saveChanges.show {
    visibility: visible;
    animation: fadein 0.5s, fadeout 0.5s 2.5s;
}

/* Animations for the toast */
@keyframes fadein {
    from {
        top: 0;
        opacity: 0;
    }
    to {
        top: 30px;
        opacity: 1;
    }
}

@keyframes fadeout {
    from {
        top: 30px;
        opacity: 1;
    }
    to {
        top: 0;
        opacity: 0;
    }
}


.toast-deleted {
    visibility: hidden;
    min-width: 250px;
    margin-left: -125px;
    background-color: 	rgb(184, 18, 18);
    color: #fff;
    text-align: center;
    border-radius: 5px;
    padding: 16px;
    position: fixed;
    z-index: 1;
    left: 50%;
    top: 30px;
    font-size: 17px;
   
}

/* Show the toast message */
.toast-deleted.show {
    visibility: visible;
    animation: fadein 0.5s, fadeout 0.5s 2.5s;
}

/* Animations for the toast */
@keyframes fadein {
    from {
        top: 0;
        opacity: 0;
    }
    to {
        top: 30px;
        opacity: 1;
    }
}

@keyframes fadeout {
    from {
        top: 30px;
        opacity: 1;
    }
    to {
        top: 0;
        opacity: 0;
    }
}

#preloader {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100vh;
	background-color: rgba(255, 255, 255, 0.8); /* semi-transparent white */
	backdrop-filter: blur(2px); /* applies blur to whatever's behind */
	-webkit-backdrop-filter: blur(10px); /* for Safari */
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 99999;
}


#loader-text1{

    position: absolute;
    top: 420px;
    left: 600px;
    font-weight: bold;
}
.arrow{

position: fixed;
cursor: pointer;
background: none;
border: none;
top: 130px;
left: 230px;
font-size: 25px;


}

.copy-rights{

position: absolute;
bottom: 0;
left: 0;
width: 100%;
text-align: center;
padding: 10px 0;
background-color: #f1f1f1;
color: #333;
font-size: 14px;
font-weight: 500;
}


    </style>
</head>
<body>

    <!----------------------------------Preloader section here---------------------->
    <div id="preloader">
        <p id="loader-text1"></p>
        <img src="./preloader.gif" alt="">
    </div>

    <!------------------------------------Toast message section here------------------------->


    <div id="toast-saveChanges" class="toast-saveChanges">Updated Successfully <i class="fa-solid fa-check"></i></div>
    <div id="toast-deleted" class="toast-deleted">Deleted Successfully <i class="fa-solid fa-trash"></i></div>
     <!----------------------------------Header Section---------------------------------->

     <div class="menu-bar">
        <a href="main.html" style="text-decoration: none;"><h1 class="logo"> <img src="./fashion_logo1.png" alt="" class="ab_icon"> AB's Fashion.com</h1></a>
        
        <ul>
            <li><a href="myorders.html">My Orders <i class="fa-solid fa-bag-shopping"></i></a></li>
        <div class="profile">
            <li><a href="#" id="profile"> <i class="bi bi-person"></i> Profile <i class="fas fa-caret-down"></i></a>


        
        <!--------------------------------------Drop down menu Section Here------------------------------>
        
        
        <div class="dropdown-menu">
        <ul>
            <li><a href="saved_Addresses.html">Saved Address <i class="bi bi-person-vcard"></i></a></li>  
            <li><a href="card_details.html">My Card <i class="bi bi-credit-card"></i></a></li>
            <li><a href="forgot_password.html">Change Password <i class="bi bi-key"></i> </a></li>
            <li><a href="#contact">About <i class="bi bi-person"></i></a></li>
            <li><a href="#contact">Contact us <i class="bi bi-telephone"></i></a></li>
            <li><a href="login.html">LogOut <i class="bi bi-box-arrow-right"></i></a></li>
        </ul>
        </div>
        </div>
        </li>
        </ul>
        </div>
        
        <div class="saved_addresses">
            <h3>Saved Addresses</h3>
            <a href="main.html" id="fade-link"><button  class="arrow"><i class="fa-solid fa-arrow-left"></i></button></a>
              <div class="saved-address" id="address-scroll"></div>
        </div>


         <!-- Edit Address Modal -->
<div id="editModal" class="modal">
    <div class="modal-content">
      <span class="close-button" onclick="cancelEdit()">&times;</span>
      
  
      <label>Full Name:</label>
      <input type="text" id="editFullName"><br>
  
      <label>Street:</label>
      <input type="text" id="editStreet"><br>
  
      <label>Area:</label>
      <input type="text" id="editArea"><br>
  
      <label>City:</label>
      <input type="text" id="editCity"><br>
  
      <label>District:</label>
      <input type="text" id="editDistrict"><br>
  
      <label>Pincode:</label>
      <input type="text" id="editPincode"><br>
  
      <label>Mobile:</label>
      <input type="text" id="editMobile"><br>
  
      <button class="save-changes" onclick="saveEditedAddress()">Save Changes</button>
      
    </div>
  </div>

  <p class="copy-rights"> <i class="bi bi-c-circle"></i> AB's Fashion.com 2025. All rights reserved.</p>

  <!-------------------------------------Scripting Section here--------------------------------->
    
        <script>
            function displaySavedAddresses() {
            const savedAddresses = JSON.parse(localStorage.getItem("savedAddresses")) || [];
            const savedAddressContainer = document.querySelector(".saved-address");

            if (savedAddresses.length === 0) {
                savedAddressContainer.innerHTML = "<p style='text-align:center; margin-top:160px; color:red;'>No saved addresses found.</p>";
                return;
            }
            savedAddressContainer.innerHTML = "";
        
            savedAddresses.forEach((address, index) => {
                const addressDiv = document.createElement("div");
                addressDiv.classList.add("address-card");
        
                addressDiv.innerHTML = `
                    
                    <span class="add_fullName">${address.fullName}</span>
                    <button class="edit-button" onclick="editAddress(${index})"><i class="fa-solid fa-pen-to-square"></i>edit</button>
                    <button class="delete-button" onclick="deleteAddress(${index})" ><i class="fa-solid fa-trash"></i>delete</button><br><br>
                    <span class="add_street">${address.street}</span>, <span class="add_area">${address.area}</span><br>
                   <span class="add_city"> ${address.city}</span>,<span class="add_district"> ${address.district}</span>, <span class="add_pincode">${address.pincode}</span><br>
                    <span class="add_mobile">Mobile: ${address.mobile}</span><br><br>
                    <hr><br>
                `;
        
                savedAddressContainer.appendChild(addressDiv);

                
            });
        }
        
        
        function fillAddressForm(index) {
            const savedAddresses = JSON.parse(localStorage.getItem("savedAddresses")) || [];
            const address = savedAddresses[index];
        
            // Fill the form inputs
            document.querySelector(".first_name input").value = address.fullName.split(" ")[0] || "";
            document.querySelector(".last_name input").value = address.fullName.split(" ")[1] || "";
            document.querySelector(".street input").value = address.street;
            document.querySelector(".area input").value = address.area;
            document.querySelector(".city input").value = address.city;
            document.querySelector(".district input").value = address.district;
            document.querySelector(".pincode input").value = address.pincode;
            document.querySelector(".number input").value = address.mobile;
        }
        
        
        
        
            
            // Call on DOM load
            document.addEventListener("DOMContentLoaded", function () {
                displaySavedAddresses();
            });
            </script>

<script>


    function saveAddress() {
        const firstName = document.querySelector(".first_name input").value.trim();
        const lastName = document.querySelector(".last_name input").value.trim();
        const fullName = firstName + " " + lastName;
        const street = document.querySelector(".street input").value.trim();
        const area = document.querySelector(".area input").value.trim();
        const city = document.querySelector(".city input").value.trim();
        const district = document.querySelector(".district input").value.trim();
        const pincode = document.querySelector(".pincode input").value.trim();
        const mobile = document.querySelector(".number input").value.trim();
        const isDefault = document.querySelector("input[type='checkbox']").checked;
    
        if (!firstName || !lastName || !street || !area || !city || !district || !pincode || !mobile) {
            alert("Please fill out all required fields.");
            return;
        }
    
        const address = {
            fullName,
            street,
            area,
            city,
            district,
            pincode,
            mobile,
            default: isDefault
        };

        if(saveAddresss.length > 0){
            const savedAddresses = JSON.parse(localStorage.getItem("savedAddresses")) || [];
            const existingAddress = savedAddresses.find(a => a.fullName === fullName && a.street === street && a.area === area && a.city === city && a.district === district && a.pincode === pincode && a.mobile === mobile);
            if (existingAddress) {
                alert("This address already exists.");
                return;
            }
        }


    
        let savedAddresses = JSON.parse(localStorage.getItem("savedAddresses")) || [];
    
        // If setting default, unset others
        if (isDefault) {
            savedAddresses = savedAddresses.map(a => ({ ...a, default: false }));
        }
    
        savedAddresses.push(address);
        localStorage.setItem("savedAddresses", JSON.stringify(savedAddresses));
    
        // Optionally set selected address as the newly added one
        localStorage.setItem("selectedAddressIndex", savedAddresses.length - 1);
    
        // Refresh address list
        displaySavedAddresses();
    
        // Optionally show toast
        showToast_address();
    }
    </script>


<script>
    function useThisAddress(index) {
        localStorage.setItem("selectedAddressIndex", index);
        displaySavedAddresses();
    }
    
    function setAsDefault(index) {
        const savedAddresses = JSON.parse(localStorage.getItem("savedAddresses")) || [];
        savedAddresses.forEach((address, idx) => {
            address.default = idx === index;
        });
        localStorage.setItem("savedAddresses", JSON.stringify(savedAddresses));
        displaySavedAddresses();
    }
    
    function deleteAddress(index) {
        const savedAddresses = JSON.parse(localStorage.getItem("savedAddresses")) || [];
        savedAddresses.splice(index, 1);
        localStorage.setItem("savedAddresses", JSON.stringify(savedAddresses));
       
        displaySavedAddresses();
        deleted(); // Call the function to show the toast message
    }

   
    
    </script>
    
    <script>
        function editAddress(index) {
    const savedAddresses = JSON.parse(localStorage.getItem("savedAddresses")) || [];
    const address = savedAddresses[index];
    currentEditIndex = index;

    document.getElementById("editFullName").value = address.fullName;
    document.getElementById("editStreet").value = address.street;
    document.getElementById("editArea").value = address.area;
    document.getElementById("editCity").value = address.city;
    document.getElementById("editDistrict").value = address.district;
    document.getElementById("editPincode").value = address.pincode;
    document.getElementById("editMobile").value = address.mobile;

    document.getElementById("editModal").style.display = "block";
    
}



function cancelEdit() {
    currentEditIndex = null;
    document.getElementById("editModal").style.display = "none";
    document.getElementById("editModal1").style.display = "none";
}

function saveEditedAddress() {
    const savedAddresses = JSON.parse(localStorage.getItem("savedAddresses")) || [];
    if (currentEditIndex === null) return;

    savedAddresses[currentEditIndex] = {
        ...savedAddresses[currentEditIndex],
        fullName: document.getElementById("editFullName").value.trim(),
        street: document.getElementById("editStreet").value.trim(),
        area: document.getElementById("editArea").value.trim(),
        city: document.getElementById("editCity").value.trim(),
        district: document.getElementById("editDistrict").value.trim(),
        pincode: document.getElementById("editPincode").value.trim(),
        mobile: document.getElementById("editMobile").value.trim()
    };

    localStorage.setItem("savedAddresses", JSON.stringify(savedAddresses));
    displaySavedAddresses();
    saveChanges(); // Call the function to show the toast message
    cancelEdit();
}

    </script>

<!--------------------------------------Transititon Styling section here---------------------------->

<script>
    function zoomToPage(url) {
      document.body.classList.add('zoom-out');
      setTimeout(() => {
        window.location.href = url;
      }, 600);
    }
  </script>


<!----------------------------------Toast Message styling section here------------------------------->

<script>
    function saveChanges() {
    const toast = document.getElementById("toast-saveChanges");
    toast.classList.add("show");
    setTimeout(() => {
        toast.classList.remove("show");
    }, 800); // Toast is visible for 3 seconds
}
</script>


<script>
    function deleted() {
    const toast = document.getElementById("toast-deleted");
    toast.classList.add("show");
    setTimeout(() => {
        toast.classList.remove("show");
    }, 600); // Toast is visible for 3 secondstoast-saveChanges
    
}
</script>


<!----------------------------------Preloader section here----------------------->


<script>
    var loader = document.getElementById('preloader');
    var loader_text = document.getElementById('loader-text1')

    window.addEventListener('load',function(){
        loader_text.innerHTML='Please wait a moment...';
        
        setTimeout(function (){
            loader.style.display = "none";
            

        },600);
    }
)
</script>


<script>
    const body = document.getElementById('address-scroll');
  
    body.addEventListener('mouseenter', () => {
      body.style.overflowY = 'auto'; // Enable scroll on hover
    });
  
    body.addEventListener('mouseleave', () => {
      body.style.overflowY = 'hidden'; // Disable scroll when mouse leaves
    });
  </script>


<script>
    const link = document.getElementById('fade-link');
    link.addEventListener('click', function (e) {
      e.preventDefault();
      document.body.style.transition = 'opacity 0.5s ease';
      document.body.style.opacity = '0';
      setTimeout(() => {
        window.location = link.href;
      }, 500);
    });
  </script>


</body>
</html>